<!--
  Generated template for the InsuranceCompaniesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border class="headerShadow">
    
      <ion-navbar>
            <ion-title>  شركات تأمين </ion-title> 
            <button ion-button menuToggle start>
                <ion-icon name="menu" color="white"></ion-icon>
            </button> 
      </ion-navbar>
    
  </ion-header>


  <ion-content padding class="outer-content">
      <ion-list >
        
        <ion-row id="mapSelectionRow" >
          <ion-item id="mapSelectionItem" class="shadowAndRadius" no-lines>
            <ion-select (ionChange)="cityChange($event)" placeholder="اختار المدينة" [(ngModel)]="selected">
              <ion-option value="all">كل المدن </ion-option>
              <ion-option *ngFor="let city of getAllCities()" value="{{city.name}}"> {{ city.name }} </ion-option>
            </ion-select>
          </ion-item>
        </ion-row>
      
        <ion-row class="listRow">

            <ion-list class="listSchools" no-lines style="height:100%" *ngIf="selected === 'all'">
               
              <div *ngFor="let company of getAllInsuranceCompanies()" id="listSchoolDiv" style="height:212px" class="shadowAndRadius" (click)="gotoProfileDetails(company.id)">
                  <div id="imgDiv" style="height:163px">
                    <img *ngIf="company.image" src="http://car.zodiacstudio.net{{company.image}}" />
                    <img *ngIf="!company.image" src="assets/imgs/avatar.png" />
                  </div>
                  <div class="patternimgAndColor" id="ratinrDiv" style="height:44px">
                    <p> {{company.title}} </p>
                  </div>
              </div>

            </ion-list>

            <ion-list class="listSchools" no-lines style="height:100%" *ngIf="selected !== 'all'">
               
                <div *ngFor="let company of getAllFilteredInsuranceCompanies()" id="listSchoolDiv" style="height:212px" class="shadowAndRadius" (click)="gotoProfileDetails(company.id)">
                    <div id="imgDiv" style="height:163px">
                      <img *ngIf="company.image" src="http://car.zodiacstudio.net{{company.image}}" />
                      <img *ngIf="!company.image" src="assets/imgs/avatar.png" />
                    </div>
                    <div class="patternimgAndColor" id="ratinrDiv" style="height:44px">
                      <p> {{company.title}} </p>
                    </div>
                </div>
  
              </ion-list>

          </ion-row>
      </ion-list>

</ion-content>
