{"version":3,"sources":["../../src/pages/create-ads/create-ads.module.ts","../../src/pages/create-ads/create-ads.ts"],"names":[],"mappings":"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","file":"20.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CreateAdsPage } from './create-ads';\n\n@NgModule({\n  declarations: [\n    CreateAdsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CreateAdsPage),\n  ],\n})\nexport class CreateAdsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/create-ads/create-ads.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, LoadingController} from 'ionic-angular';\nimport { ImagePicker } from '@ionic-native/image-picker';\nimport { FormBuilder, FormGroup, Validators, AbstractControl } from '@angular/forms';\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { adsProvider } from '../../providers/ads.service';\n\n\n@IonicPage({\n  name: 'CreateAdsPage'\n})\n@Component({\n  selector: 'page-create-ads',\n  templateUrl: 'create-ads.html',\n})\nexport class CreateAdsPage {\n  public images = [];\n  public base64Obj = [];\n  public imagebase64: string;\n  public splitStr: any;\n  public result: any;\n\n  public first_image: any;\n  public second_image: any;\n  public third_image: any;\n  public forth_image: any;\n  public fifth_image: any;\n \n  eventKey:any;\n  public title: any;\n  public production_year: any;\n  public kilometres: any;\n  public type: any;\n  public engine: any;\n  public fuel: any;\n  public price: any;\n  \n  createAdsForm: FormGroup;\n  submitAttempt: boolean = false;\n\n  titleFormName: AbstractControl;\n  production_yearFormName: AbstractControl;\n  kilometrsFormName: AbstractControl;\n  engineFormName: AbstractControl;\n  priceFormName: AbstractControl;\n\n  constructor( public navCtrl: NavController, \n    public navParams: NavParams, \n    public toastCtrl: ToastController,\n    private imagePicker: ImagePicker,\n    private nativeStorage: NativeStorage,\n    public formBuilder: FormBuilder,\n    public loadingCtrl: LoadingController,\n    public adsProvider: adsProvider) {\n\n      this.first_image = \"\";\n      this.second_image = \"\";\n      this.third_image = \"\";\n      this.forth_image = \"\";\n      this.fifth_image = \"\";\n\n      this.createAdsForm = formBuilder.group({\n        titleFormName: ['', Validators.compose([Validators.required])],\n        production_yearFormName: ['', Validators.compose([Validators.required])],\n        kilometrsFormName: ['', Validators.compose([Validators.required])],\n        engineFormName: ['', Validators.compose([Validators.required])],\n        priceFormName: ['', Validators.compose([Validators.required])],\n    });\n    this.titleFormName = this.createAdsForm.controls['titleFormName'];\n    this.production_yearFormName = this.createAdsForm.controls['production_yearFormName'];\n    this.kilometrsFormName = this.createAdsForm.controls ['kilometrsFormName'];\n    this.engineFormName = this.createAdsForm.controls ['engineFormName'];\n    this.priceFormName = this.createAdsForm.controls ['priceFormName'];    \n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CreateAdsPage');\n  }\n\n  onKeyPress(event) {\n    console.log(event)\n    //this.eventKey = event.key;\n  }\n\n  getPictures(){ \n\n    const options = {\n      maximumImagesCount: 5,\n      quality: 50,\n      outputType: 1\n      }\n      \n      this.imagePicker.getPictures(options).then((results) => {\n      for (var i = 0; i < results.length; i++) {\n\n        this.imagebase64 = 'data:image/jpeg;base64,' + results[i];\n        //alert(this.imagebase64);\n        this.base64Obj.push(this.imagebase64);\n\n        }\n      }, (err) => {\n      console.log('err' + err);\n      });\n\n  }\n\n  addAds(){\n\n    let loader = this.loadingCtrl.create({\n      spinner: 'crescent',\n      content: ''\n    });\n\n    loader.present().then(() => {\n\n        if(this.base64Obj[0]){\n          this.first_image = this.base64Obj[0];\n        }else{\n          this.first_image = \"\"\n        }\n        if(this.base64Obj[1] ){\n          this.second_image = this.base64Obj[1];\n        }else{\n          this.second_image = \"\"\n        }\n        if(this.base64Obj[2]){\n          this.third_image = this.base64Obj[2];\n        }else{\n          this.third_image = \"\";\n        }\n        if(this.base64Obj[3]){\n          this.forth_image = this.base64Obj[3];\n        }else{\n          this.forth_image = \"\";\n        }\n        if(this.base64Obj[4]){\n          this.fifth_image = this.base64Obj[4];\n        }else{\n          this.fifth_image = \"\";\n        }\n        \n        this.nativeStorage.getItem('myitem')\n        .then(\n          data =>{\n\n            if(data.token_api){\n\n              this.adsProvider.add_ads(data.token_api, this.first_image, this.second_image, this.third_image, this.forth_image, this.fifth_image,\n              this.title, this.type, this.production_year, this.kilometres, this.engine, this.fuel, this.price)\n              \n              .then( result => {\n\n//alert(\"subscribe result is: \" +this.result);\n                this.result = JSON.parse(result.data);\n\n                if(this.result.status_code === 200){\n                  \n                  this.images = [];\n                  this.base64Obj = [];\n                  this.imagebase64 = \"\";\n\n                  loader.dismiss();\n                  this.navCtrl.pop();\n                  let toast = this.toastCtrl.create({\n                    message: \"في انتظار موافقة الأدمن لنشر الاعلان\",\n                    duration: 3000,\n                    position: 'bottom'\n                  }); toast.present();\n                }\n\n                else if(this.result.status_code === 402 || this.result.status_code === 406){\n\n                  loader.dismiss();\n                  let toast = this.toastCtrl.create({\n                    message: \"You're Offline\",\n                    duration: 3000,\n                    position: 'bottom'\n                  }); toast.present();\n                }\n\n                else{\n\n                  loader.dismiss();\n                  let toast = this.toastCtrl.create({\n                    message: \"Please Insert Valid Data\",\n                    duration: 3000,\n                    position: 'bottom'\n                  }); toast.present();\n                }\n              }).catch(error =>{\n                loader.dismiss();\n                  let toast = this.toastCtrl.create({\n                    message: \"Check your internet connection and try again\",\n                    duration: 3000,\n                    position: 'bottom'\n                  }); toast.present();\n              })\n\n            }else{\n\n              loader.dismiss();\n         \n              let toast = this.toastCtrl.create({\n                message: \"Check your internet connection and try again\",\n                duration: 3000,\n                position: 'bottom'\n              }); toast.present();\n            }\n\n          },error => {\n            loader.dismiss();\n            alert(error)\n          }\n        );\n      })\n  }\n  \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/create-ads/create-ads.ts"],"sourceRoot":""}