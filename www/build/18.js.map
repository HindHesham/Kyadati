{"version":3,"sources":["../../src/pages/details-ads/details-ads.module.ts","../../src/pages/details-ads/details-ads.ts"],"names":[],"mappings":"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","file":"18.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DetailsAdsPage } from './details-ads';\nimport {CustomIconsModule} from 'ionic2-custom-icons';\n\n@NgModule({\n  declarations: [\n    DetailsAdsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DetailsAdsPage),\n    CustomIconsModule\n  ],\n})\nexport class DetailsAdsModul {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/details-ads/details-ads.module.ts","import { ViewChild, Component } from '@angular/core';\nimport {IonicPage, NavController, NavParams, ToastController, LoadingController } from 'ionic-angular';\nimport { Slides, PopoverController } from 'ionic-angular';\n\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { adsProvider } from '../../providers/ads.service';\nimport { CallNumber } from '@ionic-native/call-number';\n\n@Component({\n\n  selector: 'page-details-ads',\n  templateUrl: 'details-ads.html',\n})\n\n@IonicPage({\n  name: 'DetailsAdsPage'\n})\n\nexport class DetailsAdsPage {\n\n  @ViewChild(Slides) slides: Slides;\n  public adId: any;\n  public pageType: any;\n  public adDescriptionObj: any = [];\n  private phone: any;\n  public userId: any;\n  public result: any;\n  public deleteRes: any;\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    public popoverCtrl: PopoverController,\n    private nativeStorage: NativeStorage,\n    private adsProvider: adsProvider,\n    public loadingCtrl: LoadingController,\n    public toastCtrl: ToastController,\n    private callNumber: CallNumber) {\n\n      this.pageType = this.navParams.get('page');\n  }\n\n  ngOnInit(){\n    this.getAdsDescription();\n  }\n\n  ionViewDidLoad() {}\n\n  ionViewDidEnter() {\n    //\n     this.slides._rtl = true \n    console.log(\"ionViewDidEnter\");\n  }\n\n  getAdsDescription(){\n\n    let loader = this.loadingCtrl.create({\n      spinner: 'crescent',\n      content: ''\n    });\n\n    loader.present().then(() => {\n\n      this.adId = this.navParams.get('adId');\n      if(this.adId){\n\n        this.nativeStorage.getItem('myitem')\n        .then(\n          data =>{\n            //alert(\"from ads details View: \"+ data);\n  \n\n              this.userId = data.id;\n              //alert(this.userId);\n              this.adsProvider.adDescription(this.adId)\n                .then( result =>{\n                  \n                  this.result = JSON.parse(result.data);\n\n                  //alert(\"ad description result is: \"+ this.result);\n                  if(this.result.status_code === 200){\n\n                    loader.dismiss();\n                    this.adDescriptionObj = this.result.ad;\n                    this.phone = this.result.ad.mobile;\n                  \n                  }\n\n                  else{\n                    loader.dismiss();\n                    this.navCtrl.pop();\n                    let toast = this.toastCtrl.create({\n                      message: \"You're offline Check your connection and try again\",\n                      duration: 3000,\n                      position: 'bottom'\n                    }); toast.present();\n                  }\n\n                });\n          \n          },error => {\n            loader.dismiss();\n            this.adsProvider.adDescription(this.adId)\n                .then( result =>{\n                  \n                  this.result = JSON.parse(result.data);\n\n                  //alert(\"ad description result is: \"+ this.result);\n                  if(this.result.status_code === 200){\n\n                    loader.dismiss();\n                    this.adDescriptionObj = this.result.ad;\n                    this.phone = this.result.ad.mobile;\n                  \n                  }\n\n                  else{\n                    loader.dismiss();\n                    this.navCtrl.pop();\n                    let toast = this.toastCtrl.create({\n                      message: \"You're offline Check your connection and try again\",\n                      duration: 3000,\n                      position: 'bottom'\n                    }); toast.present();\n                  }\n\n                });\n          }\n        );\n\n      }\n      else{\n        loader.dismiss();\n        this.navCtrl.pop();\n        let toast = this.toastCtrl.create({\n          message: \"You're Offline\",\n          duration: 3000,\n          position: 'bottom'\n        }); toast.present();\n      }\n    })\n  }\n\n  delete(adId){\n\n    let loader = this.loadingCtrl.create({\n      spinner: 'crescent',\n      content: ''\n    });\n\n    loader.present().then(() => {\n\n      this.nativeStorage.getItem('myitem')\n      .then(\n        data =>{\n          \n          if(data.token_api){\n\n            this.adsProvider.delete_ad(data.token_api, adId)\n              .then( result =>{\n\n                this.deleteRes = JSON.parse(result.data);\n\n              //alert(\"delete ad result is: \"+ JSON.stringify(result))\n                if(this.deleteRes.status_code === 200){\n\n                  loader.dismiss();\n                  this.navCtrl.push('MyAdsPage');\n                  let toast = this.toastCtrl.create({\n                    message: \"تم مسح الاعلان\",\n                    duration: 3000,\n                    position: 'bottom'\n                  }); toast.present();\n                \n                }\n                else{\n\n                  loader.dismiss();\n                  let toast = this.toastCtrl.create({\n                    message: \"You're offline Check your connection and try again\",\n                    duration: 3000,\n                    position: 'bottom'\n                  }); toast.present();\n                }\n\n              }).catch(error=>{\n\n                loader.dismiss();\n                let toast = this.toastCtrl.create({\n                  message: \"You're offline Check your connection and try again\",\n                  duration: 3000,\n                  position: 'bottom'\n                }); toast.present();\n              })\n          }\n          else{\n\n            loader.dismiss();\n            this.navCtrl.setRoot('UserNamePage')\n            let toast = this.toastCtrl.create({\n              message: \"You're Offline\",\n              duration: 3000,\n              position: 'bottom'\n            }); toast.present();\n          }\n\n        },error => {\n            loader.dismiss();\n            console.error(error)\n          }\n      );\n  })\n}\n\n  presentPopover( adId) {\n\n    let popover = this.popoverCtrl.create('DeletePopoverPage',{\n      adId: adId\n    });\n    popover.present({\n\n    });\n  }\n\n  phoneCall(){\n  \n    this.callNumber.callNumber(this.phone, true)\n    .then(res => console.log('Launched dialer!'+ res))\n    .catch(err => console.log('Error launching dialer'+ err));\n    \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/details-ads/details-ads.ts"],"sourceRoot":""}