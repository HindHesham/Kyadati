{"version":3,"sources":["../../src/pages/insurance-companies-details/insurance-companies-details.ts","../../src/pages/insurance-companies-details/insurance-companies-details.module.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, PopoverController, LoadingController} from 'ionic-angular';\n\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { insuranceCompaniesProvider } from '../../providers/insuranceCompanies.service';\nimport { CallNumber } from '@ionic-native/call-number';\n\n/**\n * Generated class for the InsuranceCompaniesDetailsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage({\n  name: 'InsuranceCompaniesDetailsPage'\n})\n@Component({\n  selector: 'page-insurance-companies-details',\n  templateUrl: 'insurance-companies-details.html',\n})\nexport class InsuranceCompaniesDetailsPage {\n  public companyId: any;\n  public companyDescriptionObj: any = [];\n  public commentsObj: any = [];\n  public phone: any;\n  public token: any;\n  public result: any;\n\n  constructor(public navCtrl: NavController, \n    public navParams: NavParams,\n    public toastCtrl: ToastController,\n    public loadingCtrl: LoadingController,\n    public popoverCtrl: PopoverController,\n    private nativeStorage: NativeStorage,\n    private callNumber: CallNumber,\n    public insuranceCompaniesProvider: insuranceCompaniesProvider) {\n  }\n\n  ionViewDidEnter(){\n    this.getCompanyDetails();\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad InsuranceCompaniesDetailsPage');\n  }\n\n  getCompanyDetails(){\n\n    let loader = this.loadingCtrl.create({\n      spinner: 'crescent',\n      content: ''\n    });\n\n    loader.present().then(() => {\n\n      this.companyId = this.navParams.get('companyId');\n      if(this.companyId){\n\n              this.insuranceCompaniesProvider.insuranceCompanyDescription( this.companyId)\n                .then( result =>{\n\n                  this.result = JSON.parse(result.data);\n\n                  //console.log(\"result is: \"+ JSON.stringify(result))\n                  if(this.result.status_code === 200){\n\n                    loader.dismiss();\n                    this.companyDescriptionObj = this.result.insurance_company;\n                    this.commentsObj = this.result.insurance_company.comments;\n                    this.phone = this.result.insurance_company.phone;\n                    \n                    this.getAllComments();\n                  }\n                  else{\n\n                    loader.dismiss();\n                    this.navCtrl.pop();\n                    let toast = this.toastCtrl.create({\n                      message: \"You're offline Check your connection and try again\",\n                      duration: 3000,\n                      position: 'bottom'\n                    }); toast.present();\n                  }\n                }).catch(error=>{\n\n                    loader.dismiss();\n                    let toast = this.toastCtrl.create({\n                      message: \"You're offline Check your connection and try again\",\n                      duration: 3000,\n                      position: 'bottom'\n                    }); toast.present();\n                })\n            \n\n      }\n      else{\n\n        loader.dismiss();\n        this.navCtrl.pop();\n        let toast = this.toastCtrl.create({\n          message: \"You're Offline\",\n          duration: 3000,\n          position: 'bottom'\n        }); toast.present();\n        \n      }\n    })\n  }\n\n  getAllComments(){\n\n    return this.commentsObj;\n  }\n\n  gotoMap(){\n\n    this.navCtrl.push('MapPage',{\n      \"latitude\": this.companyDescriptionObj.latitude,\n      \"longitude\": this.companyDescriptionObj.longitude\n    });\n  }\n\n  phoneCall(){\n    this.callNumber.callNumber(this.phone, true)\n    .then(res => console.log('Launched dialer!'+ res))\n    .catch(err => console.log('Error launching dialer'+ err));\n  }\n\n  presentPopover(myEvent) {\n\n    this.nativeStorage.getItem('myitem')\n    .then(\n      data =>{\n        \n        let popover = this.popoverCtrl.create('PopoverPage',{\n          id: this.companyDescriptionObj.id,\n          type: 3\n        });\n        popover.present({\n        });\n        \n    },error => {\n\n      this.navCtrl.push('SignUpPage');\n              let toast = this.toastCtrl.create({\n                message: \"يجب التسجيل اولا\",\n                duration: 3000,\n                position: 'bottom'\n              }); toast.present();\n\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/insurance-companies-details/insurance-companies-details.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { InsuranceCompaniesDetailsPage } from './insurance-companies-details';\nimport {CustomIconsModule} from 'ionic2-custom-icons';\n\n@NgModule({\n  declarations: [\n    InsuranceCompaniesDetailsPage,\n    \n  ],\n  imports: [\n    IonicPageModule.forChild(InsuranceCompaniesDetailsPage),\n    CustomIconsModule\n  ],\n})\nexport class InsuranceCompaniesDetailsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/insurance-companies-details/insurance-companies-details.module.ts"],"sourceRoot":""}