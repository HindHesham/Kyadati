{"version":3,"sources":["../../src/pages/maintenanace-center-description/maintenanace-center-description.ts","../../src/pages/maintenanace-center-description/maintenanace-center-description.module.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController,LoadingController, MenuController, PopoverController} from 'ionic-angular';\n\nimport { CallNumber } from '@ionic-native/call-number';\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { importantPlacesProvider } from '../../providers/importantPlaces.service';\n/**\n * Generated class for the MaintenanaceCenterDescriptionPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n\n@IonicPage({\n  name: 'MaintenanaceCenterDescriptionPage'\n})\n@Component({\n  selector: 'page-maintenanace-center-description',\n  templateUrl: 'maintenanace-center-description.html',\n})\nexport class MaintenanaceCenterDescriptionPage {\n\n  public placeId: any;\n  public maintenanceCenterObj: any = [];\n  public commentsObj: any = [];\n  public phone: any;\n  public token: any;\n  public result: any;\n\n  constructor(public navCtrl: NavController, \n    public navParams: NavParams,\n    public menu: MenuController,\n    public popoverCtrl: PopoverController,\n    public toastCtrl: ToastController,\n    public loadingCtrl: LoadingController,\n    private nativeStorage: NativeStorage,\n    private callNumber: CallNumber,\n    private importantPlacesProvider: importantPlacesProvider) {\n\n      this.menu.enable(false, 'menu')\n  }\n\n  ionViewDidEnter(){\n    this.maintenane_centers_details();\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad MaintenanaceCenterDescriptionPage');\n  }\n\n  maintenane_centers_details(){\n\n    let loader = this.loadingCtrl.create({\n      spinner: 'crescent',\n      content: ''\n    });\n\n    loader.present().then(() => {\n\n      this.placeId = this.navParams.get('maintenanceplaceId');\n      if(this.placeId){\n  \n              this.importantPlacesProvider.maintenance_center_description(this.placeId)\n                .then( result =>{\n\n                  this.result = JSON.parse(result.data);\n                  //alert(\"result is: \"+ JSON.stringify(result))\n                  if(this.result.status_code === 200){\n\n                    loader.dismiss();\n                    this.maintenanceCenterObj = this.result.maintenanace_center;\n                    //alert(\"obj\"+ this.maintenanceCenterObj);\n                    this.commentsObj = this.result.maintenanace_center.comments;\n                    this.phone = this.result.maintenanace_center.phone;\n                    this.getAllComments();\n                  }\n\n                  else{\n\n                    loader.dismiss();\n                    this.navCtrl.pop();\n                    let toast = this.toastCtrl.create({\n                      message: \"You're offline Check your connection and try again\",\n                      duration: 3000,\n                      position: 'bottom'\n                    }); toast.present();\n                  }\n                }).catch(error=>{\n                    loader.dismiss();\n                    let toast = this.toastCtrl.create({\n                      message: \"You're offline Check your connection and try again\",\n                      duration: 3000,\n                      position: 'bottom'\n                    }); toast.present();\n                })\n      }\n      else{\n\n        loader.dismiss();\n        this.navCtrl.pop();\n        let toast = this.toastCtrl.create({\n          message: \"You're Offline\",\n          duration: 3000,\n          position: 'bottom'\n        }); toast.present();\n      }\n    })\n\n  }\n\n  presentPopover(myEvent) {\n\n    this.nativeStorage.getItem('myitem')\n    .then(\n      data =>{\n        \n        let popover = this.popoverCtrl.create('PopoverPage',{\n          id: this.maintenanceCenterObj.id,\n          type: 2\n        });\n        popover.present({\n        });\n        \n    },error => {\n\n      this.navCtrl.push('SignUpPage');\n              let toast = this.toastCtrl.create({\n                message: \"يجب التسجيل اولا\",\n                duration: 3000,\n                position: 'bottom'\n              }); toast.present();\n\n    });\n   \n  }\n\n  saveUserRating(e) {\n\n    console.log('clicked: ', e);\n  }\n\n  getAllComments(){\n\n    return this.commentsObj;\n  }\n\n  gotoMap(){\n\n    this.navCtrl.push('MapPage',{\n      \"latitude\": this.maintenanceCenterObj.latitude,\n      \"longitude\": this.maintenanceCenterObj.longitude\n    });\n  }\n\n  phoneCall(){\n\n      this.callNumber.callNumber(this.phone, true)\n      .then(res => console.log('Launched dialer!'+ res))\n      .catch(err => console.log('Error launching dialer'+ err));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/maintenanace-center-description/maintenanace-center-description.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MaintenanaceCenterDescriptionPage } from './maintenanace-center-description';\nimport {CustomIconsModule} from 'ionic2-custom-icons';\nimport { Ionic2RatingModule } from 'ionic2-rating';\n\n@NgModule({\n  declarations: [\n    MaintenanaceCenterDescriptionPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MaintenanaceCenterDescriptionPage),\n    CustomIconsModule,\n    Ionic2RatingModule\n  ],\n})\nexport class MaintenanaceCenterDescriptionPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/maintenanace-center-description/maintenanace-center-description.module.ts"],"sourceRoot":""}